<div class="panel panel-primary">
<div class="panel-heading">Time range {{timezone}}</div>

<div class="panel-body">
<table *ngIf="componentValid">
<tr>
	<td class="label-col"><span >Start</span ></td>
    <td class="select-col"><div class="btn-group">
        <label class="btn btn-default" [(ngModel)]="timeStartRadioModel" (ngModelChange)="onRadioClick('start')" btnRadio="Absolute">Absolute</label>
		<label class="btn btn-default" [(ngModel)]="timeStartRadioModel" (ngModelChange)="onRadioClick('start')" btnRadio="Relative">Relative</label>
	 </div></td>

	<td class="picker-col">
		<kairos-datetimepicker *ngIf="timeStartRadioModel==='Absolute'" [timezone]="timezone" [(timestamp)]="startAbsolute" (timestampChange)="startAbsoluteChange.emit($event);"></kairos-datetimepicker>
        <kairos-relativepicker *ngIf="timeStartRadioModel==='Relative'" [(model)]="startRelative" (modelChange)="startRelativeChange.emit($event);"></kairos-relativepicker>
	</td>
	<td class="timezone-col" rowspan="2">
		<div class="form-group has-feedback">
		<input #timezoneField [ngModel]="timezone"
         [typeahead]="items"
		 [typeaheadOptionsLimit]="10"
         [typeaheadMinLength]="0"
		 (typeaheadOnSelect)="timezone=timezoneField.value;timezoneChange.emit(timezone);"
         (blur)="onTimezoneBlur(timezoneField)"
		 placeholder="Browser time zone"
         class="form-control">
		 <i class="glyphicon glyphicon-menu-down form-control-feedback"></i>
		</div>
	  </td>
</tr>

<tr>
	<td class="label-col"><span >Stop</span ></td>
    <td class="select-col"><div class="btn-group">
        <label class="btn btn-default" [(ngModel)]="timeEndRadioModel" (ngModelChange)="onRadioClick('end')" btnRadio="Absolute" uncheckable>Absolute</label>
		<label class="btn btn-default" [(ngModel)]="timeEndRadioModel" (ngModelChange)="onRadioClick('end')" btnRadio="Relative" uncheckable>Relative</label>
		<!--
		<label class="btn btn-default" [(ngModel)]="timeEndRadioModel" btnRadio="Absolute" uncheckable>Absolute</label>
		<label class="btn btn-default" [(ngModel)]="timeEndRadioModel" btnRadio="Relative" uncheckable>Relative</label>
		-->
	 </div></td>

	<td class="picker-col">
		<kairos-datetimepicker *ngIf="timeEndRadioModel==='Absolute'" [timezone]="timezone" [(timestamp)]="endAbsolute" (timestampChange)="endAbsoluteChange.emit($event);"></kairos-datetimepicker>
        <kairos-relativepicker *ngIf="timeEndRadioModel==='Relative'" [(model)]="endRelative" (modelChange)="endRelativeChange.emit($event);"></kairos-relativepicker>
	</td>
</tr>

</table>

<div *ngIf="!componentValid" class="alert alert-danger" role="alert" (click)="fixInvalid()">Invalid time range in Query Json. Click here to fix!</div>

</div>
</div>